<!DOCTYPE html>
<html>
<head>
  <title>Register Complaint</title>
</head>
<body>

<h2>Register Complaint</h2>

<input id="title" placeholder="Title"><br><br>
<textarea id="description" placeholder="Description"></textarea><br><br>
<input id="location" placeholder="Location"><br><br>

<button onclick="submitComplaint()">Submit</button>

<p id="msg"></p>

<script>
function submitComplaint() {
  fetch("http://localhost:51078/complaints", {
    method: "POST",
    headers: {
      "Content-Type": "application/json"
    },
    body: JSON.stringify({
      title: document.getElementById("title").value,
      description: document.getElementById("description").value,
      location: document.getElementById("location").value
    })
  })
  .then(res => res.json())
  .then(data => {
    document.getElementById("msg").innerText = "Complaint submitted ✅";
  })
  .catch(() => {
    document.getElementById("msg").innerText = "Error ❌";
  });
}
</script>

</body>
</html>
